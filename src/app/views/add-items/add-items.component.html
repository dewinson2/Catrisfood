<div class="bg-white rounded-xl shadow-xl border border-gray-200 overflow-hidden mx-4 my-6 font-sans">
  <!-- Header -->
  <div class="flex justify-between items-center p-6 bg-gradient-to-r from-slate-50 to-gray-100 border-b border-gray-200">
    <h2 class="text-2xl font-bold text-gray-900 bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text ">
      Gesti√≥n de Men√∫
    </h2>
    <button class="flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-indigo-600 to-indigo-700 text-white rounded-lg font-semibold text-sm hover:from-indigo-700 hover:to-indigo-800 transition-all duration-200 shadow-lg hover:shadow-xl hover:-translate-y-0.5">
      <span class="text-lg font-bold">+</span>
      Agregar Item
    </button>
  </div>
  
  <!-- Table Wrapper -->
  <div class="overflow-x-auto">
    <table class="w-full text-sm">
      <!-- Header -->
      <thead class="bg-gradient-to-r from-slate-800 to-slate-700 text-white">
        <tr>
          <th class="px-5 py-4 text-left font-semibold text-xs uppercase tracking-wider">Categor√≠a</th>
          <th class="px-5 py-4 text-left font-semibold text-xs uppercase tracking-wider">ID</th>
          <th class="px-5 py-4 text-left font-semibold text-xs uppercase tracking-wider">Imagen</th>
          <th class="px-5 py-4 text-left font-semibold text-xs uppercase tracking-wider">T√≠tulo</th>
          <th class="px-5 py-4 text-left font-semibold text-xs uppercase tracking-wider">Descripci√≥n</th>
          <th class="px-5 py-4 text-left font-semibold text-xs uppercase tracking-wider">Precio</th>
          <th class="px-5 py-4 text-left font-semibold text-xs uppercase tracking-wider">Rating</th>
          <th class="px-5 py-4 text-left font-semibold text-xs uppercase tracking-wider">Reviews</th>
          <th class="px-5 py-4 text-center font-semibold text-xs uppercase tracking-wider">Acciones</th>
        </tr>
      </thead>
      
      <!-- Body -->
      <tbody class="divide-y divide-gray-100">
        @for (menu of menuData(); track menu.id) {
          
          @for (item of menu.items; track item.id) {
            <tr class="hover:bg-gradient-to-r hover:from-slate-50 hover:to-blue-50 transition-all duration-300 hover:-translate-y-0.5 hover:shadow-lg group">
              
              <!-- Categor√≠a -->
              <td class="px-5 py-4">
                @if (menu.name.toLowerCase().includes('entrada')) {
                  <span class="inline-block px-3 py-1.5 rounded-full text-xs font-semibold uppercase tracking-wide bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border border-blue-300">
                    {{ menu.name }}
                  </span>
                } @else if (menu.name.toLowerCase().includes('Burritos')) {
                  <span class="inline-block px-3 py-1.5 rounded-full text-xs font-semibold uppercase tracking-wide bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300">
                    {{ menu.name }}
                  </span>
                } @else if (menu.name.toLowerCase().includes('postre')) {
                  <span class="inline-block px-3 py-1.5 rounded-full text-xs font-semibold uppercase tracking-wide bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300">
                    {{ menu.name }}
                  </span>
                } @else if (menu.name.toLowerCase().includes("Fajitas")) {
                  <span class="inline-block px-3 py-1.5 rounded-full text-xs font-semibold uppercase tracking-wide bg-gradient-to-r from-purple-100 to-purple-200 text-purple-800 border border-purple-300">
                    {{ menu.name }}
                  </span>
                } @else {
                  <span class="inline-block px-3 py-1.5 rounded-full text-xs font-semibold uppercase tracking-wide bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300">
                    {{ menu.name }}
                  </span>
                }
              </td>
              
              <!-- ID -->
              <td class="px-5 py-4 text-center">
                <span class="font-mono text-xs text-gray-500 bg-slate-100 px-2 py-1 rounded font-semibold">
                  #{{ item.id }}
                </span>
              </td>
              
              <!-- Imagen -->
              <td class="px-5 py-3">
                <div class="relative">
                  <div class="w-10 h-10 rounded-lg overflow-hidden shadow-sm border-2 border-gray-200 hover:border-indigo-300 transition-colors duration-200">
                    <img [src]="item.image || 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjNmNGY2Ii8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzY2NzM4NyIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPkltYWdlbiBubyBkaXNwb25pYmxlPC90ZXh0Pjwvc3ZnPg=='" 
                         [alt]="item.title" 
                         class="w-full h-full object-cover hover:scale-110 transition-transform duration-200">
                  </div>
                  
                  <!-- Bot√≥n para editar imagen -->
                  <button class="absolute -top-1 -right-1 w-5 h-5 bg-blue-500 text-white rounded-full text-xs flex items-center justify-center hover:bg-blue-600 transition-colors duration-200"
                          title="Cambiar imagen"
                          (click)="editItemImage(item.id)">
                    üì∑
                  </button>
                  
                  <!-- Modal de edici√≥n de imagen -->
                  <div *ngIf="editingImageItemId === item.id" 
                       class="absolute top-12 left-0 z-50 bg-white border border-gray-300 rounded-lg shadow-lg p-4 min-w-64">
                    <div class="flex items-center justify-between mb-3">
                      <h4 class="text-sm font-semibold text-gray-700">Cambiar imagen</h4>
                      <button class="text-gray-500 hover:text-gray-700" (click)="cancelImageEdit()">
                        ‚úï
                      </button>
                    </div>
                    
                    <input type="file" 
                           accept="image/*" 
                           (change)="onImageSelected($event, item.id)"
                           class="block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100">
                    
                    <div class="mt-3 text-xs text-gray-500">
                      Formatos: JPG, PNG, GIF, WebP (m√°x. 5MB)
                    </div>
                  </div>
                </div>
              </td>
              
              <!-- T√≠tulo -->
              <td class="px-5 py-4">
                <div class="font-semibold text-gray-900 text-sm" [attr.contentEditable]="editable === item.id"
                (blur)="onItemEdit(menu.id, item.id, 'title', $event)">{{ item.title }}</div>
              </td>
              
              <!-- Descripci√≥n -->
              <td class="px-5 py-4 max-w-xs">
                <div class="text-gray-600 text-xs leading-relaxed line-clamp-2 hover:line-clamp-none transition-all duration-200 cursor-help" 
                     [title]="item.description" [attr.contentEditable]="editable === item.id"
                     (blur)="onItemEdit(menu.id, item.id, 'description', $event)">
                  {{ item.description }}
                </div>
              </td>
              
              <!-- Precio -->
              <td class="px-5 py-4">
                <div class="font-bold text-base text-emerald-600 bg-gradient-to-r from-emerald-50 to-green-100 px-2 py-1 rounded border border-emerald-200" [attr.contentEditable]="editable === item.id 
                "
                (blur)="onItemEdit(menu.id, item.id, 'price', $event)">
                  {{item.price}}
              </div>
              </td>
              
              <!-- Rating -->
              <td class="px-5 py-4">
                <div class="flex items-center gap-2">
                  <div class="flex gap-0.5">
                    @for (star of [1,2,3,4,5]; track star) {
                      @if (star <= item.rating) {
                        <span class="text-sm text-yellow-400 transition-colors duration-200">‚òÖ</span>
                      } @else {
                        <span class="text-sm text-gray-300 transition-colors duration-200">‚òÖ</span>
                      }
                    }
                  </div>
                  <span class="font-semibold text-sm text-gray-900">{{ item.rating }}</span>
                </div>
              </td>
              
              <!-- Reviews -->
              <td class="px-5 py-4">
                <span class="text-gray-600 text-xs bg-slate-100 px-2 py-1 rounded font-medium">
                  {{ item.reviews }}
                </span>
              </td>
              
              <!-- Acciones -->
              <td class="px-5 py-4">
                <div class="flex items-center justify-center gap-2">
                  
                  <!-- Ver -->
                  <button class="flex items-center justify-center w-8 h-8 bg-gradient-to-r from-cyan-100 to-blue-200 text-cyan-700 border border-cyan-300 rounded hover:from-cyan-200 hover:to-blue-300 hover:-translate-y-1 hover:shadow-md transition-all duration-200 group-hover:scale-105"
                          title="Ver detalles"
                          (click)="viewItem(item.id)">
                    <span class="text-sm">üëÅ</span>
                  </button>
                  
                  <!-- Editar -->
                  <button class="flex items-center justify-center w-8 h-8 bg-gradient-to-r from-purple-100 to-violet-200 text-purple-700 border border-purple-300 rounded hover:from-purple-200 hover:to-violet-300 hover:-translate-y-1 hover:shadow-md transition-all duration-200 group-hover:scale-105"
                          title="Editar"
                          (click)="editItem(item.id)">
                    <span class="text-sm">‚úèÔ∏è</span>
                  </button>
                  
                  <!-- Duplicar -->
                  <button class="flex items-center justify-center w-8 h-8 bg-gradient-to-r from-emerald-100 to-green-200 text-emerald-700 border border-emerald-300 rounded hover:from-emerald-200 hover:to-green-300 hover:-translate-y-1 hover:shadow-md transition-all duration-200 group-hover:scale-105"
                          title="Duplicar"
                          (click)="duplicateItem(item.id)">
                    <span class="text-sm">üìã</span>
                  </button>
                  
                  <!-- Eliminar -->
                  <button class="flex items-center justify-center w-8 h-8 bg-gradient-to-r from-red-100 to-rose-200 text-red-700 border border-red-300 rounded hover:from-red-200 hover:to-rose-300 hover:-translate-y-1 hover:shadow-md transition-all duration-200 group-hover:scale-105"
                          title="Eliminar"
                          (click)="deleteItem(menu.id, item.id)">
                    <span class="text-sm">üóëÔ∏è</span>
                  </button>
                  
                </div>
              </td>
              
            </tr>
          }
        }
      </tbody>
    </table>
  </div>
  
  <!-- Footer -->
  <div class="px-6 py-4 bg-slate-50 border-t border-gray-200">
    <div class="text-center text-sm text-gray-600">
      Mostrando {{ menuData().length }} categor√≠as
    </div>
  </div>
</div>
<!-- add-items.component.html -->